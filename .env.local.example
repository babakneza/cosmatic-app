# BuyJan E-commerce Application - Environment Configuration
# ============================================================================
# 
# This file defines all environment variables for local development.
# Copy this file to .env.local and fill in the values specific to your setup.
#
# IMPORTANT: Never commit .env.local to version control!
# The .gitignore file is configured to prevent accidental commits.
#
# For production deployments, set these variables in your deployment platform
# (e.g., Vercel Environment Variables, AWS Systems Manager Parameter Store, etc.)
#
# ============================================================================

# üåê NEXT.JS AND SITE CONFIGURATION
# ============================================================================

# Environment type
# Options: development, production, staging
NODE_ENV=development

# Next.js App Router locale prefix
# Should be 'true' for i18n routing with [locale] parameter
# Reference: src/app/[locale]/*
NEXT_PUBLIC_I18N_PREFIX=true

# ============================================================================
# üì° DIRECTUS CMS API CONFIGURATION (REQUIRED)
# ============================================================================

# Directus CMS Base URL
# This is the URL where Directus admin panel is hosted
# Used by SDK for API requests (both client and server)
# Example: https://admin.buyjan.com (production)
#          http://localhost:8055 (local development)
# 
# Make sure this URL is accessible from:
# 1. The Next.js app server (for server-side requests)
# 2. Client browsers (for client-side requests via SDK)
NEXT_PUBLIC_DIRECTUS_URL=https://admin.buyjan.com

# Your main application website URL
# Used for constructing absolute URLs, canonical links, and redirects
# Example: https://buyjan.com (production)
#          http://localhost:3000 (local development)
NEXT_PUBLIC_SITE_URL=https://buyjan.com

# Directus Static API Token (REQUIRED)
# ‚ö†Ô∏è  SECURITY WARNING: This token should have minimal permissions
#
# To create/find this token:
# 1. Log into Directus admin panel
# 2. Go to Settings > API Tokens
# 3. Create a new API Token with PUBLIC access level
# 4. Use that token here
#
# For development: Can use a broad-access token
# For production: Use a token with limited scope (read-only where possible)
#
# Server-side only - NEVER exposed to client browser
# Only used for server actions and API routes
DIRECTUS_API_TOKEN=your_directus_static_token_here

# Directus Public API Token
# Used by client-side SDK requests (fetching products, categories, etc.)
# Can be a different token with more limited permissions
# 
# Recommended: Create a dedicated PUBLIC token for this
# Scope: Read access to Products, Categories, Reviews, Wishlist collections
#
# Client-side accessible - DO NOT put sensitive operations here
NEXT_PUBLIC_DIRECTUS_API_TOKEN=your_directus_public_token_here

# ============================================================================
# üë§ DIRECTUS ADMIN CREDENTIALS (Optional, for test scripts)
# ============================================================================
# These credentials are used by:
# - Database migration/seeding scripts
# - E2E testing scripts
# - Admin-level API operations
#
# NOT used in production application code
#
# ‚ö†Ô∏è  SECURITY: Use a dedicated admin account for development, not personal account

# Directus admin email
DIRECTUS_ADMIN_EMAIL=admin@buyjan.com

# Directus admin password
# Use a strong password different from production
DIRECTUS_ADMIN_PASSWORD=your_admin_password_here

# ============================================================================
# üîê AUTHENTICATION & SESSION MANAGEMENT
# ============================================================================

# Nextauth Secret (if using NextAuth.js)
# Generate with: openssl rand -base64 32
# Required for JWT signing
NEXTAUTH_SECRET=your_nextauth_secret_here

# NextAuth URL for development
# Must match your development domain exactly
NEXTAUTH_URL=http://localhost:3000

# OAuth Provider Configuration (Optional)
# Add your OAuth providers for Google, Apple, etc.
# NEXTAUTH_GOOGLE_ID=your_google_oauth_id
# NEXTAUTH_GOOGLE_SECRET=your_google_oauth_secret

# ============================================================================
# üí≥ PAYMENT GATEWAY CONFIGURATION (Optional)
# ============================================================================

# PayPal Configuration (if using PayPal)
NEXT_PUBLIC_PAYPAL_CLIENT_ID=your_paypal_client_id_here
PAYPAL_SECRET=your_paypal_secret_here

# Apple Pay Configuration (Optional)
# NEXT_PUBLIC_APPLE_PAY_MERCHANT_ID=merchant.com.buyjan

# Credit Card Payment Gateway
# STRIPE_PUBLIC_KEY=pk_test_...
# STRIPE_SECRET_KEY=sk_test_...

# ============================================================================
# üìä ANALYTICS & MONITORING (Optional)
# ============================================================================

# Google Analytics
# Your GA4 Property ID (G-XXXXXXXXXX format)
NEXT_PUBLIC_GA_ID=your_google_analytics_id

# Sentry Error Tracking (Optional)
# NEXT_PUBLIC_SENTRY_DSN=https://...

# PostHog Analytics (Optional)
# NEXT_PUBLIC_POSTHOG_KEY=phc_...

# ============================================================================
# üñºÔ∏è  IMAGE OPTIMIZATION & CDN CONFIGURATION
# ============================================================================

# Image optimization is handled through:
# - Directus CDN (included in NEXT_PUBLIC_DIRECTUS_URL)
# - Next.js Image Optimization API
# - Automatic format negotiation (WebP, AVIF)
#
# Configuration in src/lib/imageOptimization.ts:
# - Product grid images: 200-400px, low-medium quality
# - Product detail images: 800-1200px, high quality
# - Category banners: 1200px width, high quality
#
# No additional environment variables needed - uses Directus URL

# ============================================================================
# üöÄ PERFORMANCE & OPTIMIZATION SETTINGS
# ============================================================================

# Request Deduplication Settings
# Controlled in src/lib/requestDedup.ts
# - Default timeout: 5 seconds
# - Max cache entries: 500
# - Cleanup interval: 60 seconds
# No environment variables - configure in code

# API Rate Limiting Settings
# Controlled in src/lib/rateLimit.ts
# Presets:
#   Search: 100 req/sec, burst 200
#   Checkout: 1 req/sec, burst 2
#   General API: 50 req/sec, burst 100
#   Auth: 5/min attempts
#   Customer: 10 req/sec, burst 20
# No environment variables - configure in code

# ============================================================================
# üîß DEVELOPMENT SETTINGS (Development Only)
# ============================================================================

# Enable verbose logging
# Set to 'true' for detailed debug logs in console
DEBUG=false
# DEBUG=buyjan:*

# Enable source maps in production build
# Useful for error tracking but increases bundle size
NEXT_PUBLIC_ENABLE_SOURCEMAPS=false

# ============================================================================
# üê≥ DOCKER ENVIRONMENT (Optional)
# ============================================================================

# PostgreSQL Database (for Docker Compose)
# Used by docker-compose.yml for Directus container
# Format: postgresql://user:password@host:port/database

# Directus specific settings (for docker-compose)
# DB_CLIENT=postgres
# DB_HOST=postgres
# DB_PORT=5432
# DB_DATABASE=directus
# DB_USER=directus
# DB_PASSWORD=directus

# ============================================================================
# üìã GUIDELINES FOR SETTING THESE VARIABLES
# ============================================================================
#
# 1. LOCAL DEVELOPMENT:
#    - Copy this file to .env.local
#    - Fill in NEXT_PUBLIC_DIRECTUS_URL and API tokens
#    - Keep other values as defaults unless testing specific features
#    - Use localhost URLs for local Directus instance
#
# 2. ENVIRONMENT-SPECIFIC VALUES:
#    Development:
#      - NEXT_PUBLIC_DIRECTUS_URL: http://localhost:8055
#      - NODE_ENV: development
#      - Debug: enabled
#    
#    Staging:
#      - NEXT_PUBLIC_DIRECTUS_URL: https://admin-staging.buyjan.com
#      - NODE_ENV: production
#      - Debug: disabled
#    
#    Production:
#      - NEXT_PUBLIC_DIRECTUS_URL: https://admin.buyjan.com
#      - NODE_ENV: production
#      - Debug: disabled
#      - Sensitive values from secure vaults only
#
# 3. SECURITY CHECKLIST:
#    ‚úì Never commit actual .env.local to git
#    ‚úì Use strong, unique tokens for each environment
#    ‚úì Rotate tokens regularly
#    ‚úì Use .env.local for secrets, not .env
#    ‚úì Verify .gitignore includes .env*.local
#    ‚úì Document all variables in .env.local.example (this file)
#    ‚úì Review logs for accidental secret exposure
#
# 4. TESTING ENVIRONMENT SETUP:
#    For E2E tests using fixtures:
#    - Set up test admin account in Directus
#    - Use test data collections with test prefix
#    - Use separate API tokens for test environment
#    - Reference: tests/fixtures/ for test data
#
# ============================================================================

# End of configuration
