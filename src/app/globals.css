@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Theme Colors */
        --background: 0 0% 100%;
        --foreground: 222.2 84% 4.9%;
        --card: 0 0% 100%;
        --card-foreground: 222.2 84% 4.9%;
        --popover: 0 0% 100%;
        --popover-foreground: 222.2 84% 4.9%;
        --primary: 45 100% 51%;
        --primary-foreground: 210 40% 98%;
        --secondary: 120 100% 20%;
        --secondary-foreground: 210 40% 98%;
        --muted: 210 40% 96.1%;
        --muted-foreground: 215.4 16.3% 46.9%;
        --accent: 0 65% 48%;
        --accent-foreground: 210 40% 98%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 210 40% 98%;
        --border: 214.3 31.8% 91.4%;
        --input: 214.3 31.8% 91.4%;
        --ring: 45 100% 51%;
        --radius: 0.5rem;

        /* Font Stacks */
        --font-en-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        --font-en-serif: 'Lora', 'Georgia', 'Times New Roman', serif;
        --font-ar-sans: 'Cairo', 'Tajawal', 'Arabic Typesetting', sans-serif;

        /* Optimized Font Sizes */
        --text-xs: 0.75rem;
        /* 12px */
        --text-sm: 0.875rem;
        /* 14px */
        --text-base: 1rem;
        /* 16px */
        --text-lg: 1.125rem;
        /* 18px */
        --text-xl: 1.25rem;
        /* 20px */
        --text-2xl: 1.5rem;
        /* 24px */
        --text-3xl: 1.875rem;
        /* 30px */
        --text-4xl: 2.25rem;
        /* 36px */
        --text-5xl: 3rem;
        /* 48px */

        /* Line Heights */
        --leading-tight: 1.25;
        --leading-normal: 1.6;
        --leading-relaxed: 1.8;
    }

    .dark {
        --background: 222.2 84% 4.9%;
        --foreground: 210 40% 98%;
        --card: 222.2 84% 4.9%;
        --card-foreground: 210 40% 98%;
        --popover: 222.2 84% 4.9%;
        --popover-foreground: 210 40% 98%;
        --primary: 45 100% 51%;
        --primary-foreground: 222.2 47.4% 11.2%;
        --secondary: 120 100% 20%;
        --secondary-foreground: 210 40% 98%;
        --muted: 217.2 32.6% 17.5%;
        --muted-foreground: 215 20.2% 65.1%;
        --accent: 0 65% 48%;
        --accent-foreground: 210 40% 98%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 210 40% 98%;
        --border: 217.2 32.6% 17.5%;
        --input: 217.2 32.6% 17.5%;
        --ring: 45 100% 51%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
    }

    /* Language-specific base styles */
    [lang="en"] {
        font-family: var(--font-en-sans);
        line-height: var(--leading-normal);
    }

    [lang="ar"] {
        font-family: var(--font-ar-sans);
        line-height: var(--leading-relaxed);
        direction: rtl;
    }

    /* English Typography Classes */
    [lang="en"] h1,
    [lang="en"] h2,
    [lang="en"] h3 {
        font-family: var(--font-en-serif);
        font-weight: 600;
        line-height: var(--leading-tight);
    }

    /* Arabic Typography Classes */
    [lang="ar"] h1,
    [lang="ar"] h2,
    [lang="ar"] h3 {
        font-family: var(--font-ar-sans);
        font-weight: 700;
        line-height: var(--leading-tight);
    }
}

/* RTL Support */
[dir="rtl"] {
    direction: rtl;
    text-align: right;
}

[dir="ltr"] {
    direction: ltr;
    text-align: left;
}

/* Custom scrollbar for RTL */
[dir="rtl"] ::-webkit-scrollbar {
    width: 8px;
}

[dir="rtl"] ::-webkit-scrollbar-track {
    background: #f1f1f1;
}

[dir="rtl"] ::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
}

[dir="rtl"] ::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Mobile-first responsive utilities */
@layer utilities {
    .container-mobile {
        @apply w-full px-4;
    }

    .text-balance {
        text-wrap: balance;
    }

    /* Hide scrollbar for Chrome, Safari and Opera */
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    /* Hide scrollbar for IE, Edge and Firefox */
    .scrollbar-hide {
        -ms-overflow-style: none;
        /* IE and Edge */
        scrollbar-width: none;
        /* Firefox */
    }

    /* RTL-aware spacing */
    .ms-auto {
        margin-inline-start: auto;
    }

    .me-auto {
        margin-inline-end: auto;
    }

    .ps-4 {
        padding-inline-start: 1rem;
    }

    .pe-4 {
        padding-inline-end: 1rem;
    }

    /* Mobile touch targets */
    .touch-target {
        @apply min-h-[44px] min-w-[44px];
    }

    /* Touch and mouse drag scrolling optimization */
    .touch-pan-x {
        touch-action: pan-x;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x mandatory;
        -ms-overflow-style: none;
        scrollbar-width: none;
        cursor: grab !important;
        overscroll-behavior-x: contain;
        user-select: none;
        /* Prevent text selection during drag */
    }

    .touch-pan-x::-webkit-scrollbar {
        display: none;
        /* Hide scrollbar for Chrome/Safari/Edge */
    }

    .touch-pan-x:active {
        cursor: grabbing !important;
    }

    /* Add a class that can be applied when dragging */
    .touch-pan-x.dragging {
        cursor: grabbing !important;
    }
}

/* Safe area for mobile notches */
.safe-top {
    padding-top: env(safe-area-inset-top);
}

.safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
}

.safe-left {
    padding-left: env(safe-area-inset-left);
}

.safe-right {
    padding-right: env(safe-area-inset-right);
}

/* Typography Utility Classes */
.text-body {
    font-size: var(--text-base);
    line-height: var(--leading-normal);
}

.heading-primary {
    font-size: var(--text-4xl);
    font-weight: 600;
    line-height: var(--leading-tight);
}

.heading-secondary {
    font-size: var(--text-2xl);
    font-weight: 500;
    line-height: var(--leading-normal);
}

.product-title {
    font-size: var(--text-xl);
    font-weight: 500;
    line-height: var(--leading-tight);
}

.price {
    font-family: var(--font-en-sans);
    font-size: var(--text-lg);
    font-weight: 600;
}

/* Arabic font optimization */
.font-arabic {
    font-family: var(--font-ar-sans);
    font-feature-settings: "liga" 1, "calt" 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: 0.02em;
}

/* English font optimization */
.font-english {
    font-family: var(--font-en-sans);
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: 0.01em;
}

/* Mobile-first animations */
@media (prefers-reduced-motion: no-preference) {
    .animate-fade-in {
        animation: fadeIn 0.3s ease-in;
    }

    .animate-slide-up {
        animation: slideUp 0.3s ease-out;
    }

    .animate-scroll-hint {
        animation: scrollHint 1.5s ease-in-out infinite;
    }

    .animate-drag-hint {
        animation: dragHint 2s ease-in-out infinite;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes slideUp {
        from {
            transform: translateY(20px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    @keyframes scrollHint {
        0% {
            transform: translateX(0);
            opacity: 0.7;
        }

        25% {
            transform: translateX(10px);
            opacity: 1;
        }

        50% {
            transform: translateX(0);
            opacity: 0.7;
        }

        75% {
            transform: translateX(10px);
            opacity: 1;
        }

        100% {
            transform: translateX(0);
            opacity: 0.7;
        }
    }

    @keyframes dragHint {
        0% {
            transform: scale(1);
            opacity: 0.7;
        }

        50% {
            transform: scale(1.2);
            opacity: 1;
        }

        100% {
            transform: scale(1);
            opacity: 0.7;
        }
    }
}

/* Mobile optimization */
@media (max-width: 640px) {

    /* Prevent zoom on input focus */
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="number"],
    textarea,
    select {
        font-size: 16px;
    }

    /* Better tap targets */
    button,
    a {
        min-height: 44px;
        min-width: 44px;
    }
}

/* Loading skeleton */
.skeleton {
    @apply animate-pulse bg-neutral-200 rounded;
}

/* Category Hero Animations */
@media (prefers-reduced-motion: no-preference) {

    /* Slide from Top Animation */
    @keyframes slideFromTop {
        from {
            opacity: 0;
            transform: translate3d(0, -50px, 0);
        }

        to {
            opacity: 1;
            transform: translate3d(0, 0, 0);
        }
    }

    /* Slide from Left Animation */
    @keyframes slideFromLeft {
        from {
            opacity: 0;
            transform: translate3d(-50px, 0, 0);
        }

        to {
            opacity: 1;
            transform: translate3d(0, 0, 0);
        }
    }

    /* Slide from Bottom Animation */
    @keyframes slideFromBottom {
        from {
            opacity: 0;
            transform: translate3d(0, 50px, 0);
        }

        to {
            opacity: 1;
            transform: translate3d(0, 0, 0);
        }
    }

    /* Decorative Line Extend Animation */
    @keyframes lineExtend {
        from {
            width: 0;
            opacity: 0;
        }

        to {
            width: 60px;
            opacity: 1;
        }
    }

    /* Category Hero Animation Classes */
    .animate-hero-label {
        animation: slideFromTop 0.8s ease-out 0.5s both;
    }

    .animate-hero-content {
        animation: slideFromLeft 0.8s ease-out 0.7s both;
    }

    .animate-hero-glass {
        animation: slideFromBottom 0.8s ease-out 0.9s both;
    }

    .animate-hero-line {
        animation: lineExtend 0.6s ease-out 1s both;
    }

    /* Hardware acceleration for smooth animations */
    .category-hero * {
        will-change: transform, opacity;
    }
}

[dir="rtl"] .skeleton {
    @apply bg-neutral-200;
}

/* Product card hover effects */
.product-card {
    @apply transition-transform duration-200 ease-in-out;
}

.product-card:hover {
    @apply transform scale-105;
}

@media (max-width: 640px) {
    .product-card:hover {
        @apply transform scale-100;
    }
}

/* Price display */
.price-original {
    @apply text-neutral-400 line-through text-sm;
}

.price-sale {
    @apply text-accent font-semibold text-lg;
}

/* Badge styles */
.badge-new {
    @apply bg-primary text-white px-2 py-1 text-xs font-medium rounded;
}

.badge-sale {
    @apply bg-accent text-white px-2 py-1 text-xs font-medium rounded;
}

/* Oman-specific styles */
.oman-gold-gradient {
    background: linear-gradient(135deg, #D4AF37 0%, #F5EFDB 100%);
}

.oman-pattern {
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23D4AF37' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}